---
title: 基本数据类型
date: 2022-08-25 23:05:23
permalink: /pages/fcf974/
categories:
  - Go
  - Go基础
tags:
  - 
---
**Go语言内置了一下数据类型：**

| 类型            | 长度(字节)      | 默认值     | 说明                                   |
|:--------------|:------------|:--------|:-------------------------------------|
| bool          | 1           | false   | 不允许用0或非0的整数代替false和true              |
| byte          | 1           | 0       | unit8别名                              |
| rune          | 4           | 0       | 专用于存储unicode编码，等价于uint32             |
| int,uint      | 4或8         | 0       | 32或64位                               |
| int8,uint8    | 1           | 0       | -128~127,0~255                       |
| int16,uint16  | 2           | 0       | -32768~32767,0~65535                 |
| int32,uint32  | 4           | 0       | -21亿~21亿,0~42亿                       |
| int64,uint64  | 8           | 0       |                                      |
| float32       | 4           | 0.0     | 小数位精确到7位                             |
| float64       | 8           | 0.0     | 小数位精确到15位                            |
| complex64     | 8           |         |                                      |
| complex128    | 16          |         |                                      |
| uintptr       | 4或8         |         | 以存储指针的uint32或uint64整数                |
| array         |             |         | 值类型                                  |
| struct        |             |         | 值类型                                  |
| string        |             | ""      | UTF-8 字符串                            |
| slice         |             | nil     | 引用类型                                 |
| map           |             | nil     | 引用类型                                 |
| channel       |             | nil     | 引用类型                                 |
| interface     |             | nil     | 接口                                   |
| function      |             | nil     | 函数                                   |

## 1. 布尔型

- 布尔类型也叫`bool`类型，`bool`类型数据值只可以是常量 `true` 和 `false`
- `bool`类型适用于`逻辑运算`，一般用于程序流程控制

## 2. 整数型

- 整数类型分为`有符号`和`无符号`，int uint 的大小和`系统`有关

- int8、int16、int32 和 int64 分别对应其 bit 大小的整数

- 如何查看某个变量的字节大小、数据类型和取值范围：
  - Unsafe.SizeOf() 打印字节大小
  - math.MinIntxx、math.MaxIntxx 代表取值范围

```go
package main

import (
	"fmt"
	"math"
	"unsafe"
)

func main() {
	var a = 8
	var b int8
	var c int16
	var d int32
	fmt.Printf("整数：%T, 字节大小为%d, 取值范围为%d~%d\n", a, unsafe.Sizeof(a), math.MinInt8, math.MaxInt8)
	fmt.Printf("整数：%T, 字节大小为%d, 取值范围为%d~%d\n", b, unsafe.Sizeof(b), math.MinInt8, math.MaxInt8)
	fmt.Printf("整数：%T, 字节大小为%d, 取值范围为%d~%d\n", c, unsafe.Sizeof(c), math.MinInt16, math.MaxInt16)
	fmt.Printf("整数：%T, 字节大小为%d, 取值范围为%d~%d", d, unsafe.Sizeof(d), math.MinInt32, math.MaxInt32)
}

/*
整数：int, 字节大小为8, 取值范围为-128~127
整数：int8, 字节大小为1, 取值范围为-128~127
整数：int16, 字节大小为2, 取值范围为-32768~32767
整数：int32, 字节大小为4, 取值范围为-2147483648~2147483647
*/
```

### 整数型互相转换

- 低转高没问题，高转低会截断

```go
package main

import "fmt"

func main() {

	var b uint16
	b = 500
	// c是往小转
	c := uint8(b)
	// d是往大转
	d := uint32(b)
	fmt.Println(b)
	fmt.Printf("[c=uint16-->uint8 :%d]\n", c)
	fmt.Printf("[d=uint16-->uint32 :%d]\n", d)
}
```

## 3. 浮点型

- Go语言中提供了两种精度的浮点数 `float32和 float64`。
- Float32，也即我们常说的`单精度`，存储占用`4个字节`，也即4*8=32位，其中`1位用来符号，8位用来指数，剩余32位表示尾数`。

![image-20220904165033182](https://picgo-1257291029.cos.ap-shanghai.myqcloud.com/blog_img/float32.png)

- Float64，也即我们熟悉的双精度，存储占用`8个字节`，也即8*8=64，其中`1位用来符号，11位用来指数，剩余52位表示尾数`。

![image-20220904165233071](https://picgo-1257291029.cos.ap-shanghai.myqcloud.com/blog_img/float64.png)

- 精度主要取决于`尾数部分的位数`。
- float32的精度只能提供`大约7个十进制数`(表示科学计数法后，小数点后6位)的精度
- float64的精度能提供`大约15个十进制数`(表示科学计数法后，小数点后15位)的精度

```go
package main

import "fmt"

func main() {

	var f1, f2 float32
	f1 = 10000018
	f2 = 100000018
	f11 := f1 + 1
	f12 := f2 + 1
	fmt.Printf("[f1:%v %T]\n", f1, f1)
	fmt.Printf("[f11:%v %T]\n", f11, f11)
	fmt.Printf("[f2:%v %T]\n", f2, f2)
	fmt.Printf("[f12:%v %T]\n", f12, f12)

	fmt.Println(f1 == f11)
	// f2=f12代表f2刚好达到了float32精度上限
	fmt.Println(f2 == f12)
}
```

